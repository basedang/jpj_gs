# JPJ 游戏评分系统

JPJ 游戏评分系统是一个基于 **PHP** 和 **MySQL** 的游戏评分网站后端服务，提供游戏信息管理、用户评分与评论、数据统计及权限控制等核心功能，支撑前端页面展示。

---

## 核心功能

### 游戏信息管理
- 支持游戏基础信息（标题、平台、开发者、发布日期、标签、描述等）的录入、编辑、删除及查询
- 游戏封面图上传与存储，适配多平台展示需求
- 管理员后台分页管理游戏数据，提升大量数据处理效率

### 用户评分与评论系统
- 已登录用户可对游戏提交 1-10 分评分及标签（如 “开放世界”“角色扮演”），支持重复评分覆盖更新
- 支持用户提交带截图的游戏评论，评论内容与用户、游戏信息关联存储
- 自动计算游戏平均评分，统计评分数量并展示

### 数据展示与统计
- 提供游戏详情页，展示基本信息、平均评分、评论列表等数据
- 支持热门标签排行、评分排行榜等统计功能
- 个人中心页面展示用户历史评分、评论记录

### 权限控制与安全
- 区分普通用户与管理员角色，管理员可访问游戏管理后台及评论管理后台
- 基于 Session 的用户登录验证，未登录用户限制评分和评论操作
- 采用 SQL 预处理防止注入攻击，输出内容转义避免 XSS 攻击

---

## 技术栈

- **开发语言**：PHP 7.4+
- **数据库**：MySQL 8.0+（InnoDB 引擎）
- **Web 服务器**：Apache/Nginx
- **前端依赖**：HTML、CSS（内置基础样式）
- **其他**：Session 管理、文件上传处理

---

## 快速开始

### 环境要求
- PHP 7.4 及以上版本
- MySQL 8.0 及以上版本，需开启 InnoDB 引擎
- 服务器需支持 mysqli 扩展
- `uploads/` 目录（用于存储游戏封面、评论截图）需设置可写权限

### 部署步骤

#### 1. 克隆项目
```bash
git clone <仓库地址> jpj_gs
cd jpj_gs
```

#### 2. 初始化数据库
登录 MySQL，创建数据库（如 `jipujidb`）：
```sql
CREATE DATABASE jipujidb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```
导入数据库结构及初始数据：
```bash
mysql -u 用户名 -p jipujidb < jipujidb.sql
```

#### 3. 配置数据库连接
编辑 `module/sql_connet.php` 文件，修改数据库连接参数：
```php
$host = 'localhost';      // 数据库主机
$user = 'your_username';  // 数据库用户名
$pass = 'your_password';  // 数据库密码
$dbname = 'jipujidb';     // 数据库名
```

#### 4. 访问系统
- **普通用户入口**：通过浏览器访问 `http://服务器地址/jpj_gs/page/index.php`
- **管理员后台**：登录后访问 `http://服务器地址/jpj_gs/game/game_admin.php`

---

## 项目结构

```
jpj_gs/
├── Ashow/            # 个人中心相关页面（用户评分、评论记录）
├── detail/           # 游戏详情、评论管理相关功能
├── game/             # 游戏管理后台（上传、编辑、删除游戏）
├── module/           # 公共模块（数据库连接、导航栏、分页逻辑）
├── page/             # 前端页面（游戏列表、评分页、登录页等）
│   └── css/          # 样式文件
├── uploads/          # 上传文件存储（游戏封面、评论截图）
├── user/             # 用户管理（登录、资料修改）
├── jipujidb.sql      # 数据库初始化脚本
├── LICENSE           # 开源许可证（GNU LGPL v2.1）
└── README.md         # 项目说明文档
```

